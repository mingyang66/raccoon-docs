##### Mysql常用函数及技巧

###### 一、round()函数

round()函数用于将数字四射侮辱到指定的小数位，语法如下：

```sql
round(number, decimals)
```

- number：要四舍五入的数字。
- decimals：要保留的小数位数，如果省略此参数，则会四舍五入到最接近的整数。

示例：

```sql
SELECT ROUND(123.4567); //123
SELECT ROUND(123.4567, 2); //123.46
```

###### 二、lpad和rpad字符串函数

用于在字符串左侧和右侧填充指定的字符，知道达到指定的长度

- lpad(str, len, padStr) 函数str是原始字符串，len是返回的字符串的长度，padStr是要填充的字符串，填充从左侧开始。
- rpad(str, len, padStr) 函数str是原始字符串，len是返回的字符串的长度，padStr是要填充的字符串，填充从右侧开始。

示例如下：

```sql
select
	lpad(f.time, 6, '0'),
	rpad(f.time, 6, '0') 
from
	fund f
```

###### 三、lengh()和char_length()函数

lenght()函数在mysql中用于返回字符串的从航都，它返回的是字符串的字节数，而不是字符数，如果是UTF-8编码的多字节字符串，那么一个字符可能栈多个字节，如：汉字

示例：

```sql
SELECT length('123SD');//5
SELECT length('资金明细');//12
SELECT length(null);//null
```

如果数据库中使用的是多字节字符集（如：汉字），并且是想获取字符数而不是字节数，那就使用char_length()函数，示例如下：

```sql
select char_length('123SD');//5
select char_length('资金明细');//4 
select char_length(null);//null
```

> 在使用length和char_length的时候如果是null则会返回null，可以使用ifnull或coalesce函数来处理。
